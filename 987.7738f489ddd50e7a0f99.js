(self.webpackChunkkickstart_front=self.webpackChunkkickstart_front||[]).push([[987],{6987:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TimerModule:()=>v});var i=n(1116),r=n(3337),a=n(5366),s=n(9624),c=n(2693);let o=(()=>{class t{constructor(t){this.http=t}getMetadata(){return this.http.get("./assets/timer/metadata.json")}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(c.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})();var m=n(2797),g=n(7672),p=n(2312);function l(t,e){1&t&&a._UZ(0,"mat-spinner",6)}function d(t,e){1&t&&(a.ynx(0),a.TgZ(1,"p",9),a._uU(2,"No pude traerme los metadatos"),a.qZA(),a.BQk())}function f(t,e){if(1&t&&(a.TgZ(0,"p",9),a._uU(1," Faltan "),a.TgZ(2,"b"),a._uU(3),a.qZA(),a._uU(4),a.qZA()),2&t){const t=a.oxw(3);a.xp6(3),a.Oqu(t.timer),a.xp6(1),a.hij(" para ",t.metadata.subject," ")}}function u(t,e){if(1&t&&(a.TgZ(0,"p",9),a.TgZ(1,"b"),a._uU(2,"Lleg\xf3"),a.qZA(),a._uU(3),a.qZA()),2&t){const t=a.oxw(3);a.xp6(3),a.hij(" ",t.metadata.subject," ")}}function h(t,e){if(1&t&&(a.YNc(0,f,5,2,"p",10),a.YNc(1,u,4,1,"p",10)),2&t){const t=a.oxw(2);a.Q6J("ngIf",t.timer),a.xp6(1),a.Q6J("ngIf",!t.timer)}}function x(t,e){if(1&t&&(a.ynx(0),a.YNc(1,d,3,0,"ng-container",7),a.YNc(2,h,2,2,"ng-template",null,8,a.W1O),a.BQk()),2&t){const t=a.MAs(3),e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.error)("ngIfElse",t)}}function Z(t,e){1&t&&a._UZ(0,"mat-progress-bar",11)}const T=[{path:"",component:(()=>{class t{constructor(t,e){this.titleService=t,this.timerService=e,this.timer="",this.metadata={title:"",subject:"",endTimestamp:0},this.loading=!0,this.timeDifference=(t,e)=>{let n=t.getTime()-e.getTime(),i="";if(n>0){const t=1e3,e=60*t,r=60*e,a=["d\xedas","horas","minutos","segundos"];[24*r,r,e,t].forEach((t,e)=>{const r=Math.floor(n/t);r&&(n-=r*t,i&&(i+=" "),i+=`${r} ${a[e]}`,1===r&&(i=i.slice(0,-1)))})}return i}}ngOnInit(){this.timerService.getMetadata().subscribe(t=>{this.metadata=t,this.titleService.setTitle(this.metadata.title),this.loading=!1;const e=()=>{const t=new Date,e=new Date(this.metadata.endTimestamp);this.timer=this.timeDifference(e,t)};e();const n=setInterval(()=>{e(),""===this.timer&&clearInterval(n)},1e3)},t=>{this.loading=!1,this.error=t})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(s.Dx),a.Y36(o))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-timer"]],decls:9,vars:4,consts:[[1,"timer-container"],[1,"timer-card"],[1,"card-content"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],["mode","indeterminate",4,"ngIf"],[1,"loading-spinner"],[4,"ngIf","ngIfElse"],["timerTemplate",""],[1,"timer-text"],["class","timer-text",4,"ngIf"],["mode","indeterminate"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-card",1),a.TgZ(2,"mat-card-title"),a._uU(3),a.qZA(),a.TgZ(4,"mat-card-content",2),a.YNc(5,l,1,0,"mat-spinner",3),a.YNc(6,x,4,2,"ng-container",4),a.qZA(),a.TgZ(7,"mat-card-footer"),a.YNc(8,Z,1,0,"mat-progress-bar",5),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Oqu(e.metadata.title),a.xp6(2),a.Q6J("ngIf",e.loading),a.xp6(1),a.Q6J("ngIf",!e.loading),a.xp6(2),a.Q6J("ngIf",e.timer&&!e.loading))},directives:[m.a8,m.n5,m.dn,i.O5,m.rt,g.$g,p.pW],styles:[".timer-container[_ngcontent-%COMP%]{padding-top:25px;display:flex;justify-content:center}.timer-card[_ngcontent-%COMP%]{width:60%;text-align:center}.card-content[_ngcontent-%COMP%]{padding-top:10px}.loading-spinner[_ngcontent-%COMP%]{margin-left:calc(50% - 50px)}.timer-text[_ngcontent-%COMP%]{font-size:large}"]}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.Bz.forChild(T)],r.Bz]}),t})();var _=n(7136);let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[o],imports:[[i.ez,I,_.S]]}),t})()}}]);